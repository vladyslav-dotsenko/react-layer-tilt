(this["webpackJsonpreact-layer-tilt"]=this["webpackJsonpreact-layer-tilt"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i,r,c=n(1),o=n.n(c),a=n(6),s=n.n(a),u=(n(12),n(2)),l=(n(13),Boolean(DeviceOrientationEvent)),d="function"===typeof(null===(i=DeviceOrientationEvent)||void 0===i?void 0:i.requestPermission),h=(r=function(){return d?DeviceOrientationEvent.requestPermission():Promise.resolve("granted")},function(){return l?r.apply(void 0,arguments):Promise.reject(new Error("Device orientation API is not available"))}),j=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return h().then((function(t){if("granted"===t)return e.apply(void 0,n);throw new Error("Device orientation API is rejected by user")})).catch(console.error)}},f=j((function(e){return window.addEventListener("deviceorientation",e)})),v=j((function(e){return window.removeEventListener("deviceorientation",e)})),b=function(){var e=Object(c.useRef)(),t=Object(c.useState)({}),n=Object(u.a)(t,2),i=n[0],r=n[1],o=function(){return r(e&&e.current?e.current.getBoundingClientRect():{})};return Object(c.useEffect)((function(){return o(),window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}}),[]),[i,e]},p=n(7),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(c.useEffect)((function(){return f(e),function(){return v(e)}}),[e].concat(Object(p.a)(t)))},x=n(0),g=Object(c.createContext)(),m=function(e){var t=e.distance,n=e.children,i=e.noZoom,r=void 0!==i&&i,o=Object(c.useContext)(g)||{},a=o.localOffset,s=o.tiltBoundingBox,u=o.perspectiveDepth,l=t*u/100,d=Math.min(s.height,s.width)*l/2,h={position:"absolute",left:a[0]*d/(u/2)||0,top:a[1]*d/(u/2)||0,width:"100%",height:"100%",zIndex:333-t},j={height:"100%",transform:r?"":"scale(".concat(1+l,")")};return Object(x.jsx)("div",{className:"tilt-layer-slider",style:h,children:Object(x.jsx)("div",{className:"tilt-layer-zoomer",style:j,children:n})})},y=function(e){var t=e.children,n=e.perspectiveDepth,i=void 0===n?10:n,r=e.density,o=void 0===r?.5:r,a=b(),s=Object(u.a)(a,2),l=s[0],d=s[1],h=Object(c.useState)(null),j=Object(u.a)(h,2),f=j[0],v=j[1],p=Object(c.useState)(null),m=Object(u.a)(p,2),y=m[0],w=m[1],E=y?v:w;O((function(e){e.alpha;var t=e.beta,n=e.gamma;E({alpha:n,beta:t})}));var C,D,P={localOffset:function(e){var t=Object(u.a)(e,2),n=t[0],i=t[1];return[Math.min(1,Math.max(-1,n)),Math.min(1,Math.max(-1,i))]}(function(e,t){return[-e.alpha/90*(1/t),-e.beta/90*(1/t)]}(f&&y?(D=y,{alpha:(C=f).alpha-D.alpha,beta:C.beta-D.beta}):{alpha:0,beta:0},o)),tiltBoundingBox:l,perspectiveDepth:i,density:o};return Object(x.jsx)(g.Provider,{value:P,children:Object(x.jsx)("div",{ref:d,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"},children:t})})},w=function(e){var t=e.color;return Object(x.jsx)("div",{style:{backgroundColor:t,width:"120px",height:"120px",borderRadius:"50%"}})},E=function(e){var t=e.children;return Object(x.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},children:t})},C=function(e){var t=e.children;return Object(x.jsx)("div",{style:{width:"100%",height:"100px",position:"absolute",bottom:"5%"},children:t})},D=function(){var e,t=(e=360,0+Math.floor(Math.random()*e)),n=[0,2,4,6,8].map(function(e,t){return function(n){return"hsl(".concat(e,", 100%, ").concat(50+t*n,"%")}}(t,5));return Object(x.jsxs)(y,{children:[n.map((function(e,t){return Object(x.jsx)(m,{distance:3*t,debug:1===t,children:Object(x.jsx)(E,{children:Object(x.jsx)(w,{color:e})})},e)})),Object(x.jsx)(m,{noZoom:!0,distance:12,children:Object(x.jsx)(C,{children:Object(x.jsx)(E,{children:Object(x.jsx)("h3",{children:"Tilt your phone to see effect"})})})})]})},P=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],i=t[1],r=j((function(){return i(!0)}));return Object(x.jsx)("div",{className:"App",children:n?Object(x.jsx)(D,{}):Object(x.jsx)("div",{style:{cursor:"pointer",height:"100vh",width:"100vw",fontSize:"24pt",display:"flex",alignItems:"center",justifyContent:"center",textDecoration:"underline"},onClick:r,children:Object(x.jsx)("span",{children:"Start"})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),c(e),o(e)}))};s.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(P,{})}),document.getElementById("root")),B()}},[[15,1,2]]]);
//# sourceMappingURL=main.1374e59e.chunk.js.map